(function(){var t,e,o,n,r,s=[].slice;n=["ngDialog"],r=angular.module("tumblrGame.storyline",n),o=function(){function t(t,e,o){var n;n=t.storyline,t.current_dialog=n[0],t.storyline=2<=n.length?s.call(n,1):[],t.next=function(){return e.close,t.storyline.length>0?e.open({template:o.get("storyline/story.tpl.html"),controller:"StoryCtrl",className:"story "+t.storyline.dialogs[0].type,plain:!0,scope:t,showClose:!1}):void 0},t.closeAll=function(){return e.close()}}return t.$inject=["$scope","ngDialog","$templateCache"],t}(),r.controller("StoryCtrl",o),t=function(){function t(t,e){this.stage=t,this.dialogs=e}return t}(),e=function(){function t(t,e,o){this.type=t,this.content=e,this.button=o}return t}(),r.service("StoryService",function(){var o,n,r,s;return n="",o={"1_start":new t("start",[new e("modal","You're nervous as you boot up the test. What if you confuse Teen Wolf for Supernatural? You'd be mortified.")]),"1_win":new t("win",[new e("modal","You sigh with relief as you successfully complete your first level. You've taken the first step towards Earth.")])},r={start:[new t("start",[new e("modal",'Your mentor offers you words of encouragement: "Even if you fail the test, maybe you can still be part of the mission to join the earth. You can just be a very stupid human." You do not find this encouraging.')]),new t("start",[new e("modal","You think your mentor is acting especially awkward around you. You suspect that they have read your smutty fanfics.")])],end:[new t("win",[new e("modal","One more level down! You did it!")]),new t("win",[new e("modal","After your victory, your best friend sends you a message."),new e("gif",n),new e("modal","You're not sure how to feel about that.")])]},s={get_story:function(t,e){var n,s;return""+t+"_"+e in o?s=o[""+t+"_"+e]:(n=r[e],s=n[Math.floor(Math.random()*n.length)]),s}}})}).call(this);