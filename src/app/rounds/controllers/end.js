(function(){var e,o;o=angular.module("tumblrGame.rounds"),e=function(){function e(e,o,t,r,n,s,a,i,u){e.round=n.get("current_round"),console.log("PARM: "+i.win),e.message="true"===i.win?"Correct! Now reblog some posts!":'Out of time! The answer was "'+i.tag+'"',t.jsonp_query({tag:"reaction-gif",before:i.before},function(o){var t;return t=s("filter")(o.response,{type:"photo"}),e.gif=t[0].photos[0].original_size.url}),e.posts=[],t.jsonp_query({tag:i.tag,before:i.before},function(o){var t,r,n,s,a;for(s=o.response,a=[],r=0,n=s.length;n>r;r++)if(t=s[r],"photo"===t.type){if(e.posts.push(t),e.posts.length>=6)break;a.push(void 0)}else a.push(void 0);return a}),e.play=function(){return a.transitionTo("select")},u.bindTo(e).add({combo:"space",description:"Next Stage",callback:e.play})}return e.$inject=["$scope","$templateCache","RoundsRes","StoryService","gameStorage","$filter","$state","$stateParams","hotkeys"],e}(),o.controller("EndCtrl",e)}).call(this);