(function(){var e,t;t=angular.module("tumblrGame.rounds"),e=function(){function e(e,t,o,r,n,s,a){e.round=o.get("current_round"),console.log("PARM: "+s.win),e.winMessage="true"===s.win?"Correct! You win!":'Out of time! The answer was "'+s.tag+'"',t.jsonp_query({tag:"reaction-gif",before:s.before},function(t){var o;return o=r("filter")(t.response,{type:"photo"}),e.gif=o[0].photos[0].original_size.url}),e.posts=[],t.jsonp_query({tag:s.tag,before:s.before},function(t){var o,r,n,s,a;for(s=t.response,a=[],r=0,n=s.length;n>r;r++)if(o=s[r],"photo"===o.type){if(e.posts.push(o),e.posts.length>=6)break;a.push(void 0)}else a.push(void 0);return a}),e.play=function(){return n.transitionTo("select")},a.bindTo(e).add({combo:"enter",description:"Next Stage",callback:e.play})}return e.$inject=["$scope","RoundsRes","gameStorage","$filter","$state","$stateParams","hotkeys"],e}(),t.controller("EndCtrl",e)}).call(this);