(function(){var e,o;o=angular.module("tumblrGame.rounds"),e=function(){function e(e,o,t,r,n,s,a){e.round=t.get("current_round"),console.log("PARM: "+s.win),e.message="true"===s.win?"Correct! Now reblog some posts!":'Out of time! The answer was "'+s.tag+'"',o.jsonp_query({tag:"reaction-gif",before:s.before},function(o){var t;return t=r("filter")(o.response,{type:"photo"}),e.gif=t[0].photos[0].original_size.url}),e.posts=[],o.jsonp_query({tag:s.tag,before:s.before},function(o){var t,r,n,s,a;for(s=o.response,a=[],r=0,n=s.length;n>r;r++)if(t=s[r],"photo"===t.type){if(e.posts.push(t),e.posts.length>=6)break;a.push(void 0)}else a.push(void 0);return a}),e.play=function(){return n.transitionTo("select")},a.bindTo(e).add({combo:"enter",description:"Next Stage",callback:e.play})}return e.$inject=["$scope","RoundsRes","gameStorage","$filter","$state","$stateParams","hotkeys"],e}(),o.controller("EndCtrl",e)}).call(this);